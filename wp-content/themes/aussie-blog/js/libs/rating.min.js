function decOfNum(e,t){return cases=[2,0,1,1,1,2],t[4<e%100&&e%100<20?2:cases[e%10<5?e%10:5]]}!function(s){s(document).on("mouseover",".vote-block li",function(){var e=s(this),t=parseInt(e.text(),10);if(e.parent().parent().hasClass("disabled"))return!1;s("#rating-info").show().html(t+" "+decOfNum(t,["голос","голоса","голосов"]))}).on("mouseleave",".vote-block li",function(){s("#rating-info").hide()}),s(document).on("click",".vote-block li",function(){var n=s(this),r=n.parent().parent().data("id"),o=n.parent().parent().data("total"),i=n.parent().parent().data("rating"),a=parseInt(n.text(),10);return n.parent().parent().hasClass("disabled")||s.ajax({type:"POST",url:"?do=ajax",data:{id:r,num:a},success:function(e){if("limit"===e)return!1;n.parent().parent().addClass("disabled"),s.cookie("vote-post-"+r,!0,{expires:7,path:"/"}),n.parent().find(".current span").css("width",e+"%");var t=(i+a)/++o;t=(0^t)===t?t:t.toFixed(1),n.parent().parent().find("span.rating-text").html("(<strong>"+o+"</strong> "+decOfNum(o,["голос","голоса","голосов"])+", в среднем: <strong>"+t+"</strong> из 5)")}}),!1})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(l){function m(e){return x.raw?e:encodeURIComponent(e)}function v(e,t){var n=x.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),x.json?JSON.parse(e):e}catch(e){}}(e);return l.isFunction(t)?t(n):n}var r=/\+/g,x=l.cookie=function(e,t,n){if(1<arguments.length&&!l.isFunction(t)){if("number"==typeof(n=l.extend({},x.defaults,n)).expires){var r=n.expires,o=n.expires=new Date;o.setTime(+o+864e5*r)}return document.cookie=m(e)+"="+function(e){return m(x.json?JSON.stringify(e):e+"")}(t)+(n.expires?"; expires="+n.expires.toUTCString():"")+(n.path?"; path="+n.path:"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}for(var i=e?void 0:{},a=document.cookie?document.cookie.split("; "):[],s=0,c=a.length;s<c;s++){var u=a[s].split("="),d=(f=u.shift(),x.raw?f:decodeURIComponent(f)),p=u.join("=");if(e&&e===d){i=v(p,t);break}e||void 0===(p=v(p))||(i[d]=p)}var f;return i};x.defaults={},l.removeCookie=function(e,t){return void 0!==l.cookie(e)&&(l.cookie(e,"",l.extend({},t,{expires:-1})),!l.cookie(e))}});